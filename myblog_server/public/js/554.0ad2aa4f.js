"use strict";(self["webpackChunkliaohaitao_blog"]=self["webpackChunkliaohaitao_blog"]||[]).push([[554],{50554:function(t,e,i){i.r(e),i.d(e,{default:function(){return g}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("markdown",{attrs:{id:t.id,name:t.name}})],1)},r=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"background-color":"whitesmoke",height:"auto","border-radius":"5px"}},[i("div",{staticStyle:{"font-size":"18px"}},[t._v("目录")]),i("hr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}}),i("dl",t._l(t.arr,(function(e){return i("dt",{key:e,staticStyle:{"margin-top":"2px"}},[i("div",{staticStyle:{"font-size":"16px"}},[t._v(" "+t._s(e)+" ")])])})),0)])},a=[],l={name:"catalogComponent",data(){return{arr:["动漫","工具","JavaScript","日常"]}}},s=l,c=i(1001),d=(0,c.Z)(s,o,a,!1,null,null,null),p=d.exports,m=i(59957),u={name:"articleViewComponent",props:["id","name"],components:{markdown:m.Z,Catalog:p}},h=u,f=(0,c.Z)(h,n,r,!1,null,null,null),g=f.exports},59957:function(t,e,i){i.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticStyle:{"background-color":"whitesmoke",display:"inline-block","vertical-align":"top",width:"60%","margin-left":"12%","border-radius":"10px"}},[i("v-md-preview",{ref:"preview",attrs:{text:t.text}})],1),i("div",{staticStyle:{position:"fixed",overflow:"auto","background-color":"whitesmoke",display:"inline-block","vertical-align":"top",width:"20%","max-height":"450px","margin-left":"2%","border-radius":"5px"}},[i("div",{staticClass:"el-icon-tickets",staticStyle:{"font-size":"20px","margin-left":"12px","margin-top":"5px",color:"dimgray"}},[t._v(" 目录")]),i("hr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}}),t._l(t.titles,(function(e){return i("div",{key:e,style:{padding:"0px 0px 5px "+30*e.indent+"px",marginLeft:"12px"},attrs:{id:"catalog"},on:{click:function(i){return t.handleAnchorClick(e)}}},[i("a",{staticStyle:{cursor:"pointer","font-size":"16px"},attrs:{id:"font"}},[t._v(" "+t._s(e.title))])])}))],2)])},r=[],o={name:"markdownComponent",props:["id","name"],data(){return{text:"",titles:[]}},watch:{id:{handler(){this.$router.go(0)}}},mounted(){console.log(this.name);var t=encodeURI("http://43.139.56.159:3001/uploadFiles/"+this.name+".md");console.log(t),axios({method:"get",url:t}).then((t=>{this.text=t.data,console.log(this.text)})).then((()=>{const t=this.$refs.preview.$el.querySelectorAll("h1,h2,h3,h4,h5,h6"),e=Array.from(t).filter((t=>!!t.innerText.trim()));if(!e.length)return void(this.titles=[]);const i=Array.from(new Set(e.map((t=>t.tagName)))).sort();this.titles=e.map((t=>({title:t.innerText,lineIndex:t.getAttribute("data-v-md-line"),indent:i.indexOf(t.tagName)})))})).catch((t=>(console.log("请求文章出错！"),Promise.reject(t))))},methods:{handleAnchorClick(t){const{preview:e}=this.$refs,{lineIndex:i}=t,n=e.$el.querySelector(`[data-v-md-line="${i}"]`);n&&e.scrollToTarget({target:n,scrollContainer:window,top:50})}}},a=o,l=i(1001),s=(0,l.Z)(a,n,r,!1,null,"b40c3ef4",null),c=s.exports}}]);
//# sourceMappingURL=554.0ad2aa4f.js.map