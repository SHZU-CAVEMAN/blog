"use strict";(self["webpackChunkliaohaitao_blog"]=self["webpackChunkliaohaitao_blog"]||[]).push([[383],{75383:function(t,e,o){o.r(e),o.d(e,{default:function(){return d}});var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mdEditor"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.test.apply(null,arguments)}}},[o("div",[t._v(" 文章标题："),o("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticStyle:{width:"430px"},attrs:{type:"text",placeholder:"小心前面别留空格"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),o("br"),o("div",[t._v(" 文章分类："),o("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],attrs:{type:"text",placeholder:"小心前面别留空格"},domProps:{value:t.category},on:{input:function(e){e.target.composing||(t.category=e.target.value)}}})]),o("br"),o("div",[t._v("文章封面："),o("input",{attrs:{type:"file"},on:{change:t.onchangemd}})]),o("br"),o("div",[t._v(" 文章简介： "),o("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:t.intro,expression:"intro",modifiers:{lazy:!0}}],staticStyle:{"vertical-align":"top"},attrs:{rows:"3",cols:"50"},domProps:{value:t.intro},on:{change:function(e){t.intro=e.target.value}}},[t._v(" 我是一个文本框。")])]),o("br")]),o("v-md-editor",{attrs:{"disabled-menus":[],height:"calc(100vh - 150px)"},on:{"upload-image":t.handleUploadImage,save:t.save},model:{value:t.editorValue,callback:function(e){t.editorValue=e},expression:"editorValue"}})],1)},l=[],i=o(6154),n={name:"mdEditorComponent",data(){return{editorValue:null!=this.content?this.content:"",title:"",category:"",picture:" ",intro:" "}},props:{},methods:{onchangemd(t){console.log(t.target.files);let e=new FormData;Array.from(t.target.files).map((t=>{console.log(t),this.picture=t.name,e.append("file1",t)})),i.Z.post("http://43.139.56.159:3001/upload-single-file",e).then((t=>{console.log(t)}))},test(){console.log(this.title)},save(t,e){if(console.log("text",typeof t),console.log(e)," "!=this.title){let t=new File([e],this.title+".md"),o=new FormData;o.set("file1",t),i.Z.post("http://localhost:3001/upload-single-file",o,{onUploadProgress:t=>{const e=Math.round(100*t.loaded/t.total);console.log(`upload process: ${e}%`)}}).then((t=>{console.log(t.data),console.log(t.data.url)})),(0,i.Z)({method:"post",url:"http://localhost:3001/article/add",data:{name:this.title,picture:this.picture,intro:this.intro,category:this.category,publish_time:" "}})}}},watch:{editorValue:function(t){this.$emit("update:content",t)}}},r=n,s=o(1001),c=(0,s.Z)(r,a,l,!1,null,null,null),d=c.exports}}]);
//# sourceMappingURL=383.3fe97010.js.map